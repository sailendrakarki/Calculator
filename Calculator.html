
<!DOCTYPE html>
<html>
<head>
<!-- 
	@ abacus plugin for simple calculator
-->
	<title>Simple Calculator</title>
	<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
	
	<!-- keith plugin for calculator-->
	<script src="js/jquery.plugin.js"></script>
	<script src="js/jquery.calculator.js"></script>
	
	<!--  simple calculator -->
	<script src="js/jquery.abacus.min.js"></script>
	<script src = "https://ajax.aspnetcdn.com/ajax/knockout/knockout-3.2.0.js" type = "text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="css/jquery.calculator.css">
	
	<!-- bootstrap for tables -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
</head>

<body>
	<table class="table table-bordered table-hover">
		
		<thead>
			<tr>
				<td scope="col">Item</td>
				<td scope="col">Quantity</td>
				<td scope="col">Price</td>
				<td scope="col">
				Shipping</td>
				<td scope="col">Result</td>
			
			</tr>
		</thead>
		<tbody class="a" data-bind="foreach:fieldset">
			
			<tr>
				<td><input type="text" data-bind="value:itemName"></td>
				<td><input type="text" class="calcsection"  data-bind="value:quantityData, valueUpdate:'afterkeydown'"></td>
				<td><input type="text" class="calcsection1" data-bind="value:priceData,valueUpdate:'afterkeydown'"></td>
				<td><input type="text" class="calcsection2"  data-bind="value:shippingData, valueUpdate:'afterkeydown'"></td>

				<td><input type="text"  data-bind="value:totalData"></td>
			</tr>


			
			
		</tbody>
	</table>

	<button  class="btn btn-outline-primary" data-bind="click: addfield">Add Fields</button>
	<script type="text/javascript">
		
		function fieldDescription(item,quantity,price,shipping,totalData){
			var self=this;
			self.itemName= item;
			self.quantityData=ko.observable(quantity);
			self.priceData=ko.observable(price);
			self.shippingData=ko.observable(shipping);
			self.totalData = ko.computed(function() {
        			var price = Number(self.quantityData())*Number(self.priceData());
        			return price ? "$" + price.toFixed(2) : '';        
   				 });
		}
		
		function CalculationModel(){
			var self=this;
			self.fieldset= ko.observableArray([new fieldDescription()]);
			
			self.addfield = function() {
        		self.fieldset.push(new fieldDescription());
        		$('.calcsection1').abacus();
        		$('.calcsection').calculator();
        		$('.calcsection2').calculator({calculatorClass:'calculator-hide-keyboard'});
    		}
		}
		
		ko.applyBindings(new CalculationModel());

		$('.calcsection').calculator(); 
		$('.calcsection1').abacus();
		$('.calcsection2').calculator({calculatorClass:'calculator-hide-keyboard'});
	
		
	</script>

</html>